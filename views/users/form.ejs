<!DOCTYPE html>
<html>
<head>
    <title>Create User</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container py-5">
    <h1 class="mb-4">âž• Create New User</h1>

    <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
      <div class="alert alert-danger">
        <ul class="mb-0">
          <% errors.forEach(err => { %>
            <li><%= err.msg %></li>
          <% }) %>
        </ul>
      </div>
    <% } %>

    <form action="/users" method="POST">
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input
          type="text"
          class="form-control <% if (typeof errors !== 'undefined' && errors.some(e => e.param === 'username')) { %>is-invalid<% } %>"
          id="username"
          name="username"
          value="<%= typeof oldInput !== 'undefined' ? oldInput.username || '' : '' %>"
          required
        >
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">Email address</label>
        <input
          type="email"
          class="form-control <% if (typeof errors !== 'undefined' && errors.some(e => e.param === 'email')) { %>is-invalid<% } %>"
          id="email"
          name="email"
          value="<%= typeof oldInput !== 'undefined' ? oldInput.email || '' : '' %>"
          required
        >
      </div>

      <button type="submit" class="btn btn-success">Create</button>
      <a href="/users" class="btn btn-secondary">Cancel</a>
    </form>
  </div>
</body>
</html>
